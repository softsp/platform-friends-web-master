(function(o){function t(b){var a="",f=0,d=1,e={},g=[],h=[],i=function(a){if(c.isString(a)){var d=c.trim(c.asString(a));if(d){if(c.stringTooLong(b,d,1E3))return null;var a="eq_"+a,f=e[a];f||(f={featureName:d,sessionHitCount:0,timingStart:0},e[a]=f);return f}return null}},l=function(){h=[];g=[]};return{addFeatureUsage:function(a){if(a=i(a))a.sessionHitCount+=1,d++},startFeatureTiming:function(a){if((a=i(a))&&!(0<a.timingStart))a.timingStart=c.getTimeStamp()},endFeatureTiming:function(a){if((a=i(a))&&
0!==a.timingStart){var b=c.getTimeStamp(),e=b-a.timingStart;a.timingStart=0;g.push({name:a.featureName,value:e,type:1,runtime:b-f});d++}},cancelFeatureTiming:function(a){if(a=i(a))a.timingStart=0},addFeatureValue:function(a,b){var e=c.trim(c.asString(a));if(e&&c.isNumber(b)){var h=c.getTimeStamp();g.push({name:e,value:b,type:0,runtime:h-f});d++}},addException:function(a,e){if(a){var g=c.asString(e),i=c.getTimeStamp(),l="",p=typeof a,m=a.message||a.name||"";try{l=c.stackTrace({e:a})}catch(k){c.error(b,
"could not format stacktrace: "+k.message)}10<h.length&&(c.logMessage(b,"removing oldest exception"),h.pop());h.push({type:p,message:m,runtime:i-f,info:g,stacktrace:l});d++}},setInstallationID:function(f){if(!c.stringTooLong(b,f,50)&&(f=c.asString(f)))a=f,d++},reset:l,clear:function(){l();e={}},getPayload:function(){var b=[],c;for(c in e)if(e.hasOwnProperty(c)){var f=e[c];f.sessionHitCount&&b.push({name:f.featureName,sessionHitCount:f.sessionHitCount})}return{installationId:a,features:b,exceptions:h,
featurevalues:g}},startTime:f,version:function(){return d},startSession:function(){f=c.getTimeStamp()}}}var c={isFunction:function(b){return b&&"function"===typeof b},callIfFunction:function(b){try{c.isFunction(b)&&b()}catch(a){}},isString:function(b){return b&&"string"===typeof b},asString:function(b){var a="";b&&(a=c.isFunction(b)?c.asString(b()):b.toString());return a},trim:function(b){return b?!String.prototype.trim?b.replace(/^\s\s*/,"").replace(/\s\s*$/,""):b.trim():""},getTimeStamp:function(){return(new Date).getTime()},
isNumber:function(b){return"number"===typeof b},parseURL:function(b){for(var a="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),c={},d=14,b=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(b);d--;)c[a[d]]=b[d]||"";return c},getServerUri:function(b,a,f){if(f&&c.isString(f))try{var d=c.parseURL(f);
if(d&&d.host)return(d.protocol?d.protocol+"://":"//")+d.host+(d.port?":"+d.port:"")+"/json.ashx";c.log(b,"Could not parse serverUri to valid format:"+f)}catch(e){c.log(b,"unable to parse serverUri to valid format:"+f)}b="https";window&&(window.location&&"https"!=window.location.protocol)&&(b="http");return b+"://"+a+".monitor-eqatec.com/json.ashx"},log:function(b,a){try{b&&(c.isFunction(b.logMessage)&&a&&c.isString(a))&&b.logMessage(a)}catch(f){}},error:function(b,a){try{b&&(c.isFunction(b.logError)&&
a&&c.isString(a))&&b.logError(a)}catch(f){}},getInfo:function(b){var a={},f=navigator,d=screen,e=document;a.screen=d?d.width+"x"+d.height:"-";a.depth=d?d.colorDepth+"-bit":"-";a.language=(f&&(f.language||f.userLanguage)||"-").toLowerCase();a.characterSet=e.characterSet||e.charset||"-";try{var g=e.documentElement,h=e.body,i=h&&h.clientWidth&&h.clientHeight,f=[];g&&(g.clientWidth&&g.clientHeight&&("CSS1Compat"===e.compatMode||!i)?f=[g.clientWidth,g.clientHeight]:i&&(f=[h.clientWidth,h.clientHeight]));
a.clientsize=f.join("x")}catch(l){c.error(b,"Unable to read browser info: "+l.message)}return a},generateId:function(){for(var b=void 0,a=void 0,a=b="";36>b++;a+=51*b&52?(b^15?8^Math.random()*(b^20?16:4):4).toString(16):"-");return a},setCookie:function(b,a,f,d,e){var g=document;g&&(b=b+"="+a+";path="+f+";",d&&0<d&&(d=new Date(c.getTimeStamp()+d),b+="expires="+d.toUTCString()+";"),e&&(b+="domain="+e+";"),g.cookie=b)},getCookie:function(b){var a=document.cookie.split(";"),c;for(c=0;c<a.length;c++){var d=
a[c].split("=");if(2==d.length&&b==d[0])return d[1]}return null},setTimeout:function(b,a){try{if(c.isFunction(b)&&c.isNumber(a))return o.setTimeout(b,a)}catch(f){}return 0},clearTimeout:function(b){try{c.isNumber(b)&&o.clearTimeout(b)}catch(a){}},cookiesEnabled:function(){try{var b=navigator.cookieEnabled?!0:!1;"undefined"==typeof navigator.cookieEnabled&&!b&&(document.cookie="testcookie",b=-1!=document.cookie.indexOf("testcookie")?!0:!1);return b}catch(a){}return!1},trackingDisabled:function(){try{if(navigator&&
("1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack)||window&&window.external&&(window.external.InPrivateFilteringEnabled&&window.external.InPrivateFilteringEnabled()||window.external.msTrackingProtectionEnabled&&window.external.msTrackingProtectionEnabled()))return!0}catch(b){}return!1},stringTooLong:function(b,a,f){return!c.isString(a)||!c.isNumber(f)?!0:c.asString(a).length>f?(c.error(b,"Input is too long: "+a),!0):!1}};(function(){function b(a){return 10>a?"0"+a:a}function a(a){e.lastIndex=
0;return e.test(a)?'"'+a.replace(e,function(a){var b=i[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function f(b,c){var d,e,i,p,m=g,k,j=c[b];j&&"object"===typeof j&&"function"===typeof j.toJSON&&(j=j.toJSON(b));"function"===typeof l&&(j=l.call(c,b,j));switch(typeof j){case "string":return a(j);case "number":return isFinite(j)?""+j:"null";case "boolean":case "null":return""+j;case "object":if(!j)return"null";g+=h;k=[];if("[object Array]"===Object.prototype.toString.apply(j)){p=
j.length;for(d=0;d<p;d+=1)k[d]=f(d,j)||"null";i=0===k.length?"[]":g?"[\n"+g+k.join(",\n"+g)+"\n"+m+"]":"["+k.join(",")+"]";g=m;return i}if(l&&"object"===typeof l){p=l.length;for(d=0;d<p;d+=1)"string"===typeof l[d]&&(e=l[d],(i=f(e,j))&&k.push(a(e)+(g?": ":":")+i))}else for(e in j)Object.prototype.hasOwnProperty.call(j,e)&&(i=f(e,j))&&k.push(a(e)+(g?": ":":")+i);i=0===k.length?"{}":g?"{\n"+g+k.join(",\n"+g)+"\n"+m+"}":"{"+k.join(",")+"}";g=m;return i;default:return""+j}}var d;d||(d={});"function"!==
typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g,
h,i={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l;"function"!==typeof d.stringify&&(d.stringify=function(a,b,c){var d;h=g="";if("number"===typeof c)for(d=0;d<c;d+=1)h+=" ";else"string"===typeof c&&(h=c);if((l=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return f("",{"":a})});c.encodeJSON=d.stringify})();(function(){function b(a){a=a&&a.e?a.e:null;return(new b.implementation).run(a)}b.implementation=
function(){};b.implementation.prototype={run:function(a){if(!a)return"";var b;if(!(b=a))b=void 0;a=b;b=this._mode||this.mode(a);return"other"===b?this.other(arguments.callee):this[b](a)},mode:function(a){return a.arguments?this._mode="chrome":window.opera&&a.stacktrace?this._mode="opera10":a.stack?this._mode="firefox":window.opera&&!("stacktrace"in a)?this._mode="opera":this._mode="other"},chrome:function(a){return a.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,
"{anonymous}()@").split("\n")},firefox:function(a){return a.stack.replace(/(?:\n@:0)?\s+$/m,"").replace(/^\(/gm,"{anonymous}(").split("\n")},opera10:function(a){var a=a.stacktrace.split("\n"),b=/.*line (\d+), column (\d+) in ((<anonymous function\:?\s*(\S+))|([^\(]+)\([^\)]*\))(?: in )?(.*)\s*$/i,c,e,g;c=2;e=0;for(g=a.length;c<g-2;c++)if(b.test(a[c])){var h=RegExp.$6+":"+RegExp.$1+":"+RegExp.$2,i=RegExp.$3,i=i.replace(/<anonymous function\:?\s?(\S+)?>/g,"{anonymous}");a[e++]=i+"@"+h}a.splice(e,a.length-
e);return a},opera:function(a){var a=a.message.split("\n"),b=/Line\s+(\d+).*script\s+(http\S+)(?:.*in\s+function\s+(\S+))?/i,c,e,g;c=4;e=0;for(g=a.length;c<g;c+=2)b.test(a[c])&&(a[e++]=(RegExp.$3?RegExp.$3+"()@"+RegExp.$2+RegExp.$1:"{anonymous}()@"+RegExp.$2+":"+RegExp.$1)+" -- "+a[c+1].replace(/^\s+/,""));a.splice(e,a.length-e);return a},other:function(a){for(var b=/function\s*([\w\-$]+)?\s*\(/i,c=[],e=0,g,h;a&&10>c.length;){g=b.test(a.toString());h=[];try{h=Array.prototype.slice.call(a.arguments),
a=a.caller}catch(i){a=null}g=g?RegExp.$1||"{anonymous}":"{anonymous}";c[e++]=g+"("+this.stringifyArguments(h)+")";if(!a)break}return c},stringifyArguments:function(a){for(var b=0;b<a.length;++b){var c=a[b];void 0===c?a[b]="undefined":null===c?a[b]="null":c.constructor&&(c.constructor===Array?a[b]=3>c.length?"["+this.stringifyArguments(c)+"]":"["+this.stringifyArguments(Array.prototype.slice.call(c,0,1))+"..."+this.stringifyArguments(Array.prototype.slice.call(c,-1))+"]":c.constructor===Object?a[b]=
"#object":c.constructor===Function?a[b]="#function":c.constructor===String&&(a[b]='"'+c+'"'))}return a.join(",")}};c.stackTrace=b})();var n=o._eqatec||{};o._eqatec=n;n.createMonitor=function(b){var a=0,f="",d=!1,e={logError:function(){},logMessage:function(){}},g=0,h=!1,i=!1,l="",r="",n="",q={},v=!1,s=!1,p="",m={};try{b=b||{},f=c.trim(c.asString(b.productId))||"",e=b.loggingInterface||e,n=b.version,q=b.location||{},v=c.cookiesEnabled()&&b.useCookies,s=c.trackingDisabled(),p=c.getServerUri(e,f,b.serverUri),
m=t(e),(32>f.length||36<f.length)&&c.error(e,"Invalid productId assigned, expecting between 32 and 36 characters: "+f)}catch(k){c.log(e,"failed while initializing monitor")}var j=function(a){try{!d&&!a?c.log(e,"monitor not started"):h&&!a?i=!0:(x(a),m.reset())}catch(b){c.log(e,"failed while calling forceSync")}},y=function(b){var d=c.getTimeStamp(),h=d-a,j={version:n,monitorversion:"3.2.1",productId:f,sessionId:l,startCount:startCount,userId:r,runtime:h,clienttime:d,starttime:a,session:m.getPayload()};
q&&(q.latitude&&q.longitude)&&(j.location=q);b.push("pv=4");b.push("mv=3.2.1");b.push("pid="+encodeURIComponent(f));b.push("v="+encodeURIComponent(n));b.push("mt=js");b.push("ps="+(g+1));b.push("ct="+d);b.push("rt="+h);0===g&&(j.info=c.getInfo(e));return c.encodeJSON(j)},x=function(a){try{var b=!0===a?" Monitor stopped.":"";c.getTimeStamp();i=!1;var d,f,a=[];m.version();f=y(a);var l="?"+a.join("&"),l=p+l;if(XMLHttpRequest&&void 0===d){var k=new XMLHttpRequest;"withCredentials"in k&&void 0!==k.withCredentials&&
(k.open("POST",l,!0),k.setRequestHeader("Content-Type","text/plain"),k.onreadystatechange=function(){try{if(4==k.readyState){h=!1;var a=c.asString(k.status);0===a.indexOf("2")?(g++,c.log(e,"Statistics was sent successfully (xhr)."+b)):c.log(e,"Statistics failed to be sent: "+a);i&&j()}}catch(d){c.error(e,"failed to handle server reply")}},d=k)}void 0!==o.XDomainRequest&&void 0===d&&(d=new o.XDomainRequest,d.open("POST",l),d.onprogress=function(){},d.onerror=function(){h=!1;c.log(e,"Statistics failed to be sent. (XDomainRequest error)")},
d.onload=function(){g++;h=!1;c.log(e,"Statistics was sent successfully (xdr)."+b);i&&j()},d.ontimeout=function(){h=!1;c.log(e,"Statistics failed to be sent. Timeout")});d&&f?(d.send(f),h=!0):c.log(e,"Statistics failed to be sent. No valid request object could be created.")}catch(n){c.error(e,"failed to send data:"+n.message)}},b={start:function(){try{if(!d&&!s){var b="",h=r||"",i=1,k=c.getTimeStamp();if(v){var n=!1,o=c.getCookie("__eqtSession");if(o){var q=o.split(".");2==q.length?(b=q[0],k=parseInt(q[1])):
(b=c.generateId(f),n=!0,c.setCookie("__eqtSession",b+"."+k,"/",0,""))}else b=c.generateId(f),n=!0,c.setCookie("__eqtSession",b+"."+k,"/",0,"");var w=c.getCookie("__eqtUser");if(w){var u=w.split(".");2!=u.length?(h=c.generateId(f),i=1):(h=u[0],i=parseInt(u[1])+(n?1:0))}else h=c.generateId(f),i=1;c.setCookie("__eqtUser",r+"."+i,"/",31536E6,"")}l=b||c.generateId(f);r=h;startCount=i;a=k;m.startSession();g=0;m.clear();d=!0;c.log(e,"monitor has started, connecting to "+p);j()}}catch(t){c.log(e,"failed while calling start. "+
t.description)}},stop:function(){try{d&&!s&&(j(!0),d=!1,c.log(e,"monitor has stopped"))}catch(a){c.log(e,"failed while calling stop")}},setInstallationID:function(a){try{m.setInstallationID(a),j()}catch(b){c.log(e,"failed while calling setInstallationID")}},setUserID:function(a){try{r?c.logMessage(e,"UserID has already been assigned"):a&&(r=c.asString(a),j())}catch(b){c.log(e,"failed while calling setUserID")}},trackFeature:function(a){try{d?(m.addFeatureUsage(a),j()):c.log(e,"Monitor is not started")}catch(b){c.log(e,
"failed while calling trackFeature")}},trackException:function(a,b){try{d&&(m.addException(a,b),j())}catch(f){c.log(e,"failed while calling trackException")}},trackFeatureValue:function(a,b){try{d&&(m.addFeatureValue(a,b),j())}catch(f){c.log(e,"failed while calling trackFeatureValue")}},trackFeatureStart:function(a){try{d&&m.startFeatureTiming(a)}catch(b){c.log(e,"failed while calling trackFeatureStart")}},trackFeatureStop:function(a){try{d&&(m.endFeatureTiming(a),j())}catch(b){c.log(e,"failed while calling trackFeatureStop")}},
trackFeatureCancel:function(a){try{d&&m.cancelFeatureTiming(a)}catch(b){c.log(e,"failed while calling trackFeatureCancel")}},status:function(){return{payloads:g,isStarted:d,isDisabled:s}}};o._eqatecDebug&&(b.statisticsContainer=m);return b};n.createSettings=function(b){return{productId:b,serverUri:"",loggingInterface:void 0,version:"0.0.0.0",useCookies:!1,location:{latitude:"",longitude:""}}};n.createTraceLogger=function(){var b=function(a,b){console&&(console.log&&c.isFunction(console.log)&&b)&&
console.log(a+b)};return{logMessage:function(a){b("",a)},logError:function(a){b("Error: ",a)}}};o._eqatecDebug&&(n.eqatecUtil=c)})(window);
